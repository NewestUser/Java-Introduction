# Lecture 10
#java course#

## Inheritance Exercises and Theory 

### Design Patterns

–í —Å–æ—Ñ—Ç—É–µ—Ä–Ω–æ—Ç–æ –∏–Ω–∂–µ–Ω–µ—Ä—Å—Ç–≤–æ **design pattern** (—à–∞–±–ª–æ–Ω –Ω–∞ –¥–∏–∑–∞–π–Ω) –µ –ø—Ä–∏–ª–∞–≥–∞–Ω–µ—Ç–æ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω —Ç–∏–ø —Ä–µ—à–µ–Ω–∏–µ,
–Ω–∞ —á–µ—Å—Ç–æ —Å—Ä–µ—â–∞–Ω –ø—Ä–æ–±–ª–µ–º. –¢–æ–≤–∞ —Ä–µ—à–µ–Ω–∏–µ –Ω–µ –µ –∫–æ–Ω–∫—Ä–µ—Ç–µ–Ω –∫–æ–¥, –∞ –ø–æ —Å–∫–æ—Ä–æ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∫ –¥–∞ —Å–µ —Ä–µ—à–∏ —Ç–æ–∑–∏ –ø—Ä–æ–±–ª–µ–º.

> ‚ÑπÔ∏è –ó–∞ –ø–æ–≤–µ—á–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–æ—á–µ—Ç–µ—Ç–µ [—Ç—É–∫](https://sourcemaking.com/design_patterns).

#### Singleton

–¢–æ–≤–∞ –µ **design pattern**, –∫–æ–π—Ç–æ —Ü–µ–ª–∏ –¥–∞ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–∞, —á–µ —â–µ –∏–º–∞ —Å–∞–º–æ 1 –∏–Ω—Å—Ç–∞–Ω—Ü–∏—è –æ—Ç –¥–∞–¥–µ–Ω `class` –≤—ä–≤ –≤—Å–µ–∫–∏ –µ–¥–∏–Ω
–º–æ–º–µ–Ω—Ç –æ—Ç –≤—Ä–µ–º–µ –Ω–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ –Ω–∞ –ø—Ä–æ–≥—Ä–∞–º—Ç–∞.

###### –ü—Ä–∏–º–µ—Ä (Eager Singleton)

```java
public final class Universe {

    // —Å—Ç–∞—Ç–∏—á–Ω–∞ final –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞, –≤ –∫–æ—è—Ç–æ –≤–µ–¥–Ω–∞–≥–∞ —Å—ä–∑–¥–∞–≤–∞–º–µ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—è—Ç–∞
    public static final Universe INSTANCE = new Universe();

    // private –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –∑–∞ –¥–∞ –Ω–µ –º–æ–∂–µ –¥—Ä—É–≥ –¥–∞ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–∞ —Ç–æ–∑–∏ –∫–ª–∞—Å
    private Universe() {
    }
}
```

```java
public class Main {

    public static void main(String[] args) {

        // –¥–æ—Å—Ç—ä–ø–≤–∞–º–µ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–∞—Ç–∞ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—è
        Universe singleInstance = Universe.INSTANCE;
    }
}
```

###### –ü—Ä–∏–º–µ—Ä (Lazy Singleton)

```java
public final class Universe {

    // —Å—Ç–∞—Ç–∏—á–Ω–∞ final –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞, –≤ –∫–æ—è—Ç–æ –ø–æ –∫—ä—Å–Ω–æ —â–µ —Å–µ –∑–∞–ø–∏—à–µ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—è—Ç–∞
    private static Universe INSTANCE;

    // private –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, –∑–∞ –¥–∞ –Ω–µ –º–æ–∂–µ –¥—Ä—É–≥ –¥–∞ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—Ä–∞ —Ç–æ–∑–∏ –∫–ª–∞—Å
    private Universe() {
    }

    /**
     * –ú–µ—Ç–æ–¥, –∫–æ–π—Ç–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–∞—Ç–∞ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—è –Ω–∞ —Ç–æ–∑–∏ –∫–ª–∞—Å.
     * –ò–Ω—Å—Ç–∞–Ω—Ü–∏—è—Ç–∞ —â–µ –±—ä–¥–µ —Å—ä–∑–¥–∞–¥–µ–Ω–∞ –ø—Ä–∏ –ø—ä—Ä–≤–æ—Ç–æ –∏–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ —Ç–æ–∑–∏ –º–µ—Ç–æ–¥.
     *
     * @return –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–∞—Ç–∞ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—è –Ω–∞ —Ç–æ–∑–∏ –∫–ª–∞—Å.
     */
    public static Universe getInstance() {
        if (INSTANCE == null) {
            INSTANCE = new Universe();
        }

        return INSTANCE;
    }
}
```

```java
public class Main {

    public static void main(String[] args) {

        // –¥–æ—Å—Ç—ä–ø–≤–∞–º–µ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–∞—Ç–∞ –∏–Ω—Å—Ç–∞–Ω—Ü–∏—è
        Universe singleInstance = Universe.getInstance();
    }
}
```

#### Inheritance vs Composition

–ï–¥–Ω–æ –æ—Ç —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª–Ω–∏—Ç–µ –Ω–µ—â–∞ –≤ –û–û–ü –µ –¥–∞ —Å–µ –∏–∑–≥—Ä–∞–∂–¥–∞—Ç –≤—Ä—ä–∑–∫–∏ (–º–æ–¥–µ–ª–∏—Ä–∞—Ç) –º/—É –æ—Ç–¥–µ–ª–Ω–∏ –∫–ª–∞—Å–æ–≤–µ. 
–ù–∞—Å–ª–µ–¥—è–≤–∞–Ω–µ –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è —Å–∞ –¥–≤–∞ –æ—Ç –æ—Å–Ω–æ–≤–Ω–∏—Ç–µ –Ω–∞—á–∏–Ω–∏ –ø–æ, –∫–æ–∏—Ç–æ –º–æ–≥–∞—Ç –¥–∞ –±—ä–¥–∞—Ç –∏–∑–≥—Ä–∞–¥–µ–Ω–∏ —Ç–µ–∑–∏ –≤—Ä—ä–∑–∫–∏.
–ò –¥–≤–∞—Ç–∞ –ø–æ–¥—Ö–æ–¥–∞ —Ü–µ–ª—è—Ç –¥–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—è—Ç –º–µ—Ö–∞–Ω–∏–∑—ä–º –∑–∞ –ø—Ä–µ–∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç (–∫–æ–¥).

–ú–æ–∂–µ–º –¥–∞ –∫–∞–∂–µ–º –∏–∑–ø–æ–ª–∑–≤–∞–º–µ –Ω–∞—Å–ª–µ–¥—è–≤–∞–Ω–µ, –∫–æ–≥–∞—Ç–æ –µ–¥–∏–Ω –∫–ª–∞—Å –Ω–∞—Å–ª–µ–¥—è–≤–∞ –¥—Ä—É–≥ –∫–ª–∞—Å –∑–∞ –¥–∞ –ø—Ä–µ–∏–∑–ø–æ–ª–∑–≤–∞ –Ω–µ–≥–æ–≤–∞—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç.

###### –ù–∞—Å–ª–µ–¥—è–≤–∞–Ω–µ

```java
class Apple extends Fruit {
    
}

class Fruit {
    
    int peel() {
        // –Ω—è–∫–∞–∫–≤–∞ —Å–ª–æ–∂–Ω–∞ –ª–æ–≥–∏–∫–∞
    }
}

class Main {
    
    public static void main(String[] args){
      Apple apple = new Apple();
      apple.peel();
    }
}
```

> –í —Ç–æ–∑–∏ —Å–ª—É—á–∞–π `Apple` –Ω–∞—Å–ª–µ–¥—è–≤–∞ `Fruit` –∏ –ø–æ–ª—É—á–∞–≤–∞ –¥–æ—Å—Ç—ä–ø –¥–æ –Ω–µ–≥–æ–≤–∞—Ç–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç.

###### –ö–æ–º–ø–æ–∑–∏—Ü–∏—è

```java
class Apple {
    Fruit fruit; // —è–±—ä–ª–∫–∞—Ç–∞ –µ –∫–æ–º–ø–æ–∑–∏—Ä–∞–Ω–∞ –æ—Ç Fruit
    
    int peel(){
        fruit.peel(); // –ø—Ä–µ–∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ –Ω–∞ –ª–æ–≥–∏–∫–∞—Ç–∞ –æ—Ç –∫–ª–∞—Å–∞ Fruit
    }
    
}

class Fruit {
    
    int peel() {
        // –Ω—è–∫–∞–∫–≤–∞ —Å–ª–æ–∂–Ω–∞ –ª–æ–≥–∏–∫–∞
    }
}

class Main {
    
    public static void main(String[] args){
      Apple apple = new Apple();
      apple.peel();
    }
}
```

–í –ø–æ–≤–µ—á–µ—Ç–æ —Å–ª—É—á–∞–∏, –∫–∞–∫–≤–æ—Ç–æ –º–æ–∂–µ –¥–∞ —Å–µ –Ω–∞–ø—Ä–∞–≤–∏ —Å –Ω–∞—Å–ª–µ–¥—è–≤–∞–Ω–µ, –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –Ω–∞–ø—Ä–∞–≤–µ–Ω–æ –∏ —Å –∫–æ–º–ø–æ–∑–∏—Ü–∏—è.
–ß–µ—Å—Ç–æ –≤ –ø–æ-–Ω–æ–≤–∏—Ç–µ –∏–∑—Ç–æ—á–Ω–∏—Ü–∏ —Å–µ —Å–ø–æ–º–µ–Ω–∞–≤–∞, —á–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è—Ç–∞ –µ –∑–∞ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–Ω–µ –ø—Ä–µ–¥ –Ω–∞—Å–ª–µ–¥—è–≤–∞–Ω–µ—Ç–æ, —Ç–æ–≤–∞ –æ–±–∞—á–µ –Ω–µ –æ–∑–Ω–∞—á–∞–≤–∞,
—á–µ —Ç–æ–≤–∞ –≤–∏–Ω–∞–≥–∏ –µ —Ç–∞–∫–∞.

–ï–¥–Ω–æ –ø—Ä–æ—Å—Ç–æ –ø—Ä–∞–≤–∏–ª–æ –∑–∞ –æ–ø—Ä–µ–¥–µ–ª—è–Ω–µ –¥–∞–ª–∏ –¥–∞ —Å–µ –ø–æ–ª–∑–≤–∞ –Ω–∞—Å–ª–µ–¥—è–≤–∞–Ω–µ –∏–ª–∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –µ —á—Ä–µ–∑ –∑–∞–¥–∞–≤–∞–Ω–µ—Ç–æ –Ω–∞ –≤—ä–ø—Ä–æ—Å–∞:
 `is a or has a? (—Ç–æ–≤–∞ –µ –∏–ª–∏ —Ç–æ–≤–∞ –∏–º–∞)`.

**–ü—Ä–∏–º–µ—Ä:** –Ø–±—ä–ª–∫–∞—Ç–∞ **–µ** –ø–ª–æ–¥ –∏–ª–∏ —è–±—ä–ª–∫–∞—Ç–∞ **–∏–º–∞** –ø–ª–æ–¥? –í —Ç–æ–∑–∏ —Å–ª—É—á–∞–π —Å–ø–æ—Ä–µ–¥ —Ç–æ–≤–∞ –ø—Ä–∞–≤–∏–ª–æ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ –ø–æ–ª–∑–≤–∞
–Ω–∞—Å–ª–µ–¥—è–≤–∞–Ω–µ, –∑–∞—â–æ—Ç–æ —è–±—ä–ª–∫–∞—Ç–∞ **–µ** –ø–ª–æ–¥. 

> ‚ÑπÔ∏è –ó–∞ –ø–æ–≤–µ—á–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–æ—á–µ—Ç–µ—Ç–µ [—Ç—É–∫](https://www.javaworld.com/article/2076814/inheritance-versus-composition--which-one-should-you-choose-.html)
–∏ [—Ç—É–∫](https://stackoverflow.com/questions/49002/prefer-composition-over-inheritance).

#### SOLID

SOLID –µ –∞–∫—Ä–æ–Ω–∏–º –æ—Ç–≥–æ–≤–∞—Ä—è—â –Ω–∞ –Ω—è–∫–æ–ª–∫–æ –æ—Å–Ω–æ–≤–Ω–∏ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –≤ –û–û–ü

- **S**ingle Responsibility Principle
- **O**pen Closed Principle
- **L**iskov Substitution Principle
- **I**nterface Segregation Principle
- **D**ependency Inversion Principle

> ‚ÑπÔ∏è –ó–∞ –ø–æ–≤–µ—á–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–æ—á–µ—Ç–µ—Ç–µ [—Ç—É–∫](https://medium.com/@dhkelmendi/solid-principles-made-easy-67b1246bcdf)
–∏–ª–∏ –∏–∑–≥–ª–µ–¥–∞–π—Ç–µ —Ç–æ–≤–∞ [youtube –≤–∏–¥–µ–æ](https://www.youtube.com/watch?v=TMuno5RZNeE).

#### –î—Ä—É–≥–∏ —á–µ—Å—Ç–æ –ø—Ä–∏–ª–∞–≥–∞–Ω–∏ –ø—Ä–∏–Ω—Ü–∏–ø–∏ –∏ —à–∞–±–ª–æ–Ω–∏

- **DRY**
- **KISS**
- **YAGNI**
- **Law of Demeter**
- **Robustness principle (Postel's Law)**
- **Law of Demeter**
- **Occam‚Äôs Razor**
- **POJO**
- **Immutability**
- **Overengineering**
- **Dependency Injection**

### Anti Patterns

–°—ä—â–µ—Å—Ç–≤—É–≤–∞—Ç —Å—ä—â–æ —Ç–∞–∫–∞ —á–µ—Å—Ç–æ –ø—Ä–∏–ª–∞–≥–∞–Ω–∏ –ø—Ä–∞–∫—Ç–∏–∫–∏ (patterns) –≤ –ø–∏—Å–∞–Ω–µ—Ç–æ –Ω–∞ –∫–æ–¥, –∫–æ–∏—Ç–æ —Å–µ —Å–º—è—Ç–∞—Ç –∑–∞ –ª–æ—à–∏.
–¢–æ–≤–∞ —Å–∞ —Ç–∞–∫–∞ –Ω–∞—Ä–µ—á–µ–Ω–∏—Ç–µ Anti Patterns.

–ï—Ç–æ –Ω—è–∫–æ–ª–∫–æ –ø—Ä–∏–º–µ—Ä–∞ –∑–∞ —Ç–∞–∫–∏–≤–∞

#### Java Beans Pattern

–¢–æ–≤–∞ –µ –º–Ω–≥–æ —à–∏—Ä–æ–∫–æ —Ä–∞–∑–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω pattern, –∫–æ–π—Ç–æ –≥–ª–∞—Å–∏ –µ–¥–∏–Ω –∫–ª–∞—Å —Ç—Ä—è–±–≤–∞ –¥–∞ –∏–º–∞ default constructor, private properties,
getters –∏ setters (–º–µ—Ç–æ–¥–∏ –∫–æ–∏—Ç–æ –º–æ–≥–∞—Ç –¥–∞ –∑–∞–ø–∏—Å–≤–∞—Ç —Å—Ç–æ–π–Ω–æ—Å—Ç–∏ –∏ –¥–∞ —á–µ—Ç–∞—Ç —Å—Ç–æ–π–Ω–æ—Å—Ç–∏)

> ‚ÑπÔ∏è –ó–∞ –ø–æ–≤–µ—á–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–æ—á–µ—Ç–µ—Ç–µ [—Ç—É–∫](https://nicogiangregorio.wordpress.com/2012/12/28/javabeans-an-anti-pattern-or-not/).

#### Magic Numbers & Strings

–¢–æ–≤–∞ –µ –∫–æ–Ω–≤–µ–Ω—Ü–∏—è, –∫–æ—è—Ç–æ –ø—Ä–µ–ø–æ—Ä—ä—á–≤–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç–∏, —Å –Ω–µ—è—Å–µ–Ω –ø—Ä–æ–∏–∑—Ö–æ–¥ –∏ –∑–Ω–∞—á–µ–Ω–∏–µ, –∑–∞–ø–∏—Å–∞–Ω–∏ (hardcoded) –≤ –∫–æ–¥–∞ 
–¥–∞ –±—ä–¥–∞—Ç –∏–∑–Ω–µ—Å–µ–Ω–∏ –∫–∞—Ç–æ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏ –∏ –¥–∞ –±—ä–¥–µ –¥–∞–¥–µ–Ω–æ –æ–ø–∏—Å–∞—Ç–µ–ª–Ω–æ –∏–º–µ –Ω–∞ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞—Ç–∞.

###### –ú–∞–≥–∏—á–µ—Å–∫–æ —á–∏—Å–ª–æ 52

```java
class Deck {
    
    int getRandomCard() {
        return (int) (Math.random() * 52); // –Ω–µ –µ —è—Å–Ω–æ –∑–∞—â–æ e –∏–∑–ø–æ–ª–∑–≤–∞–Ω–æ —Ç–æ—á–Ω–æ —á–∏—Å–ª–æ—Ç–æ 52
    }    
}
```

###### –ú–∞–≥–∏—á–µ—Å–∫–æ —á–∏—Å–ª–æ –∏–∑–Ω–µ—Å–µ–Ω–æ –≤ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞

```java
class Deck {
    
    private final static int DECK_SIZE = 52; // 52 –µ —Ä–∞–∑–º–µ—Ä–∞ –Ω–∞ —Ç–µ—Å—Ç–µ –∫–∞—Ä—Ç–∏
    
    int getRandomCard() {
        return (int) (Math.random() * DECK_SIZE);
    }    
}
```

### Recursion

–ï–¥–∏–Ω –º–µ—Ç–æ–¥ –º–æ–∂–µ –¥–∞ –∏–∑–≤–∏–∫–∞ —Å–∞–º —Å–µ–±–µ —Å–∏. –¢–æ–≤–∞ —Å–∞–º–æ–∏–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ –º–µ—Ç–æ–¥–∏ —Å–µ –Ω–∞—Ä–∏—á–∞ —Ä–µ–∫—É—Ä—Å–∏—è.
–ù–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å–ª–æ–≤–∏–µ –∑–∞ –µ–¥–Ω–∞ —Ä–µ–∫—É—Ä—Å–∏—è –µ —Ç—è –¥–∞ –∏–º–∞ –∫—Ä–∞–π, –∏–ª–∏ —Ç–∞–∫–∞ –Ω–∞—Ä–µ—á–µ–Ω–æ—Ç–æ –¥—ä–Ω–æ.
–í –ø—Ä–æ—Ç–∏–≤–µ–Ω —Å–ª—É—á–∞–π —â–µ —Å–µ –ø–æ–ª—É—á–∏ –±–µ–∑–∫—Ä–∞–π–Ω–∞ —Ä–µ–∫—É—Ä—Å–∏—è. –†–µ–∫—É—Ä—Å–∏—è—Ç–∞ –µ –ø—Ä–æ—Å—Ç–æ –æ—â–µ –µ–¥–∏–Ω –Ω–∞—á–∏–Ω, —á—Ä–µ–∑ –∫–æ–π—Ç–æ –º–æ–∂–µ –¥–∞ —Å–µ –ø–æ—Å—Ç–∏–≥–Ω–µ 
–∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ —Ä–µ—à–∞–≤–∞–Ω–µ –Ω–∞ –¥–∞–¥–µ–Ω –ø—Ä–æ–±–ª–µ–º. –í—Å–µ–∫–∏ –ø—Ä–æ–±–ª–µ–º, –∫–æ–π—Ç–æ –º–æ–∂–µ –¥–∞ –±—ä–¥–µ —Ä–µ—à–µ–Ω —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ, 
–º–æ–∂–µ –¥–∞ –±—ä–¥–µ —Ä–µ—à–µ–Ω –∏ –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ (—Å —Ü–∏–∫—ä–ª) –∏ –æ–±—Ä–∞—Ç–Ω–æ—Ç–æ.

–¢–æ–≤–∞, –∫–æ–µ—Ç–æ –µ –≤–∞–∂–Ω–æ –¥–∞ —Å–µ —Å–ø–æ–º–µ–Ω–µ, –µ —á–µ –ø—Ä–∏ —Ä–µ–∫—É—Ä—Å–∏—è, –∫–æ—è—Ç–æ –Ω–µ –º–æ–∂–µ –¥–∞ –¥–æ—Å—Ç–∏–≥–Ω–µ –¥—ä–Ω–æ—Ç–æ —Å–∏ —â–µ —Å–µ –ø–æ–ª—É—á–∏ –≥—Ä–µ—à–∫–∞.
–¢–æ–≤–∞ –µ —Ç–∞–∫–∞, –∑–∞—â–æ—Ç–æ –≤—Å—è–∫–æ –µ–¥–Ω–æ –∏–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ –º–µ—Ç–æ–¥ –≤ –ø—Ä–æ–≥—Ä–∞–º–∞—Ç–∞ –∑–∞–¥–µ–ª—è –ø–∞–º–µ—Ç –≤ [stack](#stack-vs-heap), 
–∫–æ–π—Ç–æ —â–µ –±—ä–¥–µ –∏–∑—á–µ—Ä–ø–∞–Ω –≤ –¥–∞–¥–µ–Ω –º–æ–º–µ–Ω—Ç –æ—Ç –≤—Ä–µ–º–µ.

> ‚ÑπÔ∏è –ó–∞ –ø–æ-–¥–µ—Ç–∞–π–ª–Ω–æ –æ–±—è—Å–Ω–µ–Ω–∏–µ
–∏–∑–≥–ª–µ–¥–∞–π—Ç–µ —Ç–æ–≤–∞ [youtube video](https://www.youtube.com/watch?v=Mv9NEXX1VHc).

###### Fibonacci
    
```java
private static int fibonacci(int n) {
    if (n <= 1) {
        return n; // –¥—ä–Ω–æ –Ω–∞ —Ä–µ–∫—É—Ä—Å–∏—è—Ç–∞
    }
    
    return fibonacci(n - 1) + fibonacci(n - 2); // –≤—Å—è–∫–æ –µ–¥–Ω–æ –∏–∑–≤–∏–∫–≤–∞–Ω–µ –Ω–∞ –º–µ—Ç–æ–¥–∞ fibonacci –ø–æ—Ä–∞–∂–¥–∞ –¥—Ä—É–≥–∏ 2 –∏–∑–≤–∏–∫–≤–∞–Ω–∏—è
}
```    
    
![recursive_fibonacci_call_stack](https://i.stack.imgur.com/keYhd.png)    

> –ö–∞–∫ –∏–∑–≥–ª–µ–∂–¥–∞—Ç –ø–æ—Ä–æ–¥–µ–Ω–∏—Ç–µ —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏ –∏–∑–≤–∏–∫–≤–∞–Ω–∏—è –Ω–∞ fibonacci.


### Stack vs Heap

–©–µ —Ä–∞–∑–≥–ª–µ–¥–∞–º–µ –∫–∞–∫ Java –µ–∑–∏–∫—ä—Ç –µ —Ä–∞–ª–∏–∑–∏—Ä–∞–ª –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ—Ç–æ –Ω–∞ –µ–¥–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞. –ö–∞–∫ —Ç–æ—á–Ω–æ —Å–∞ —Å–µ —Å–ª—É—á–≤–∞ –∏–∑–≤–∏–∫–≤–∞–Ω–µ—Ç–æ –Ω–∞ –º–µ—Ç–æ–¥–∏,
–ø–æ–¥–∞–≤–∞–Ω–µ—Ç–æ –Ω–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏, —Å–ª–µ–¥–µ–Ω–µ—Ç–æ –¥–æ –∫—ä–¥–µ –µ —Å—Ç–∏–≥–Ω–∞–ª–æ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ—Ç–æ –Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞—Ç–∞ –∏ –∫–∞–∫ —Å–µ –∑–∞–¥–µ–ª—è –∏ –æ—Å–≤–æ–±–æ–∂–¥–∞–≤–∞ –ø–∞–º–µ—Ç.

#### Stack

**Stack** –µ –ø–æ–¥—Ä–µ–¥–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –æ—Ç –¥–∞–Ω–Ω–∏ —Ç–∏–ø LIFO (last in first out (–ø–æ—Å–ª–µ–¥–Ω–∏—è—Ç –≤–ª—è–∑—ä–ª –µ –ø—ä—Ä–≤–∏—è—Ç –∏–∑–ª—è–∑—ä–ª)).
–°—Ç–µ–∫–∞ –≤ –∫–æ–Ω–µ—Ç–µ–∫—Å—Ç–∞ –Ω–∞ –ø–∞–º–µ—Ç —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ –∑–∞ –∑–∞–ø–∏—Å–≤–∞–Ω–µ—Ç–æ –Ω–∞ —Ç–∞–∫–∞ –Ω–∞—Ä–µ—á–µ–Ω–∏—è **Stack Frame**.

Java –Ω–∞—Ä–∏—á–∞ **Stack Frame** –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞—Ç–∞ –Ω–∞ –∏–∑–≤–∏–∫–≤–∞–Ω–µ—Ç–æ –Ω–∞ –¥–∞–¥–µ–Ω –º–µ—Ç–æ–¥ –æ—Ç –ø—Ä–æ–≥—Ä–∞–º–∞—Ç–∞. 
–ö–∞—Ç–æ —Ç–∞–∑–∏ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∫–∞ —Å–µ —Å—ä—Å—Ç–æ–∏ –æ—Ç:
- –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –Ω–∞ –º–µ—Ç–æ–¥–∞
- –ª–æ–∫–∞–ª–Ω–∏ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏ (–ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏ –≤–∏–¥–∏–º–∏ —Å–∞–º–æ –∑–∞ –º–µ—Ç–æ–¥–∞)
- –¥–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∫–∞—Ç–æ return –∞–¥—Ä–µ—Å

![stack_representation](https://camo.githubusercontent.com/ed8db1baa4b62e314c66cdbbdcd8debf75edbf1c/68747470733a2f2f7777772e7475746f7269616c73706f696e742e636f6d2f646174615f737472756374757265735f616c676f726974686d732f696d616765732f737461636b5f726570726573656e746174696f6e2e6a7067)

#### Heap

**Heap** –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –Ω–∞ –ø–∞–º–µ—Ç –µ –Ω–µ–ø–æ–¥—Ä–µ–¥–µ–Ω–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ 
(–∏–º–∞ —Å—Ç—Ä—É–∫—Ä–∞ –æ—Ç –¥–∞–Ω–Ω–∏ —Å –∏–º–µ Heap, –≤ –º–æ–º–µ–Ω—Ç–∞ **–Ω–µ** –æ–±—Å—ä–∂–¥–∞–º–µ –Ω–µ—è), –∫–æ–µ—Ç–æ —Å–ª—É–∂–∏ –∑–∞ –∑–∞–ø–∏—Å–≤–∞–Ω–µ –Ω–∞ —Å—ä–¥—ä—Ä–∂–∞–Ω–∏–µ—Ç–æ 
–Ω–∞ —Ä–µ—Ñ–µ—Ä–µ–Ω—Ç–Ω–∏ —Ç–∏–ø–æ–≤–µ. –ó–∞–¥–µ–ª—è–Ω–µ—Ç–æ –Ω–∞ –ø–∞–º–µ—Ç –≤ heap-a —Å—Ç–∞–≤–∞ —á—Ä–µ–∑ –∫–ª—é—á–æ–≤–∞—Ç–∞ –¥—É–º–∞ `new`.

![stack_vs_heap_representation](https://i.stack.imgur.com/9c2VH.png)

> Stack –µ –ø–æ–¥—Ä–µ–¥–µ–Ω, –¥–æ–∫–∞—Ç–æ Heap –Ω–µ –µ

–ê–ª–æ–∫–∏—Ä–∞–Ω–µ (–∑–∞–µ–º–∞–Ω–µ) –Ω–∞ –ø–∞–º–µ—Ç –ø–æ –≤—Ä–µ–º–µ –Ω–∞ –∏–∑–ø—ä–ª–Ω–∏–µ–Ω–µ –Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞—Ç–∞.

![alocated_stack_and_heap_presentation](https://1.bp.blogspot.com/-gKWUcwIKWWU/VvPtKUAIFjI/AAAAAAAAFRc/WLCqWfSxlZ4ioocmBuFS3KaRhzs0I13OA/s1600/Difference%2Bbetween%2Bstack%2Band%2Bheap%2Bmemory%2Bin%2BJava.gif)

–í Stack-–∞ —Å–µ –∑–∞–ø–∏—Å–≤–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –∫–∞—Ç–æ –∫–æ–∏ —Å–ª–µ–¥ –∫–æ–∏ –º–µ—Ç–æ–¥–∏ —Å–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏, –∫–æ–π –º–µ—Ç–æ–¥ –µ –≤ –º–æ–º–µ–Ω—Ç–∞ –∑–∞ –∏–∑–ø—ä–ª–Ω–µ–Ω–∏–µ, 
–∫–∞–∫–≤–∏ —Å–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –Ω–∞ —Ç–µ–∑–∏ –º–µ—Ç–æ–¥–∏ –∏ —Å –∫–∞–∫–≤–∏ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∏ –±–æ—Ä–∞–≤–∏ –≤—Å–µ–∫–∏ –µ–¥–∏–Ω –º–µ—Ç–æ–¥. –ü—Ä–æ–º–µ–Ω–ª–∏–≤–∏—Ç–µ –æ—Ç —Ä–µ—Ñ–µ—Ä–µ–Ω—Ç–µ–Ω —Ç–∏–ø, 
–∫–æ–∏—Ç–æ —Å–∞ –∑–∞–ø–∏—Å–∞–Ω–∏ –≤ Stack-a –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–≤–∞—Ç –∞–¥—Ä–µ—Å–∞ –Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞ –Ω–∞ —Ç–∞–∑–∏ –ø—Ä–æ–º–µ–Ω–ª–∏–≤–∞ –Ω–∞–º–∏—Ä–∞—â–∞ —Å–µ –≤ Heap-a.

> ‚ÑπÔ∏è –ó–∞ –ø–æ –¥–µ—Ç–∞–π–ª–Ω–æ –æ–±—è—Å–Ω–µ–Ω–∏–µ –≤–∏–∂—Ç–µ —Ç–æ–≤–∞ [youtube –≤–∏–¥–µ–æ](https://www.youtube.com/watch?v=_8-ht2AKyH4).

### Garbage Collection

–ü—Ä–æ—Ü–µ—Å—ä—Ç –Ω–∞ —Ä–∞–±–æ—Ç–∞ –Ω–∞ –µ–¥–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ –µ –æ–±–∏–∫–Ω–æ–≤–µ–Ω–Ω–æ —Å–ª–µ–¥–Ω–∏—è.
1. –ó–∞–¥–µ–ª—è–Ω–µ –Ω–∞ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –≤ –ø–∞–º–µ—Ç—Ç–∞
2. –ó–∞–ø–∏—Å–≤–∞–Ω–µ –Ω–∞ –Ω—è–∫–∞–∫–≤–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç –≤ —Ç–∞–∑–∏ –ø–∞–º–µ—Ç
3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞ —Å—Ç–æ–π–Ω–æ—Å—Ç—Ç–∞

–ß–µ—Å—Ç–æ —Å–ª–µ–¥ —Ç—Ä–µ—Ç–∞—Ç–∞ —Å—Ç—ä–ø–∫–∞ –Ω–µ –µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–≤–µ—á–µ –¥–∞ —Å–µ –æ–±—Ä–∞–±–æ—Ç–≤–∞ —Ç–∞–∑–∏ —Å—Ç–æ–π–Ω–æ—Å—Ç. –¢–æ–≤–∞ –±–∏ –æ–∑–Ω–∞—á–∞–≤–∞–ª–æ —á–µ –≤ –ø–∞–º–µ—Ç—Ç–∞ –æ—Å—Ç–∞–≤–∞—Ç
–º–µ—Å—Ç–∞, –∫–æ–∏—Ç–æ —Å–∞ –∑–∞–¥–µ–ª–µ–Ω–∏ –∏ –Ω–µ –º–æ–≥–∞—Ç –¥–∞ –±—ä–¥–∞—Ç –∏–∑–ø–æ–ª–∑–≤–∞–Ω–∏.
–ó–∞ –¥–∞ –º–æ–∂–µ –¥–∞ —Å–µ —Ä–µ—à–∏ —Ç–æ–∑–∏ –ø—Ä–æ–±–ª–µ–º –µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–∞ —Å–µ –∏–∑–≤—ä—Ä—à–∏ –ø–æ—á–∏—Å—Ç–≤–∞–Ω–µ –Ω–∞ –ø–∞–º–µ—Ç—Ç–∞, 
–∫–æ—è—Ç–æ –Ω–µ –µ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–∞ (—Ä–µ—Ñ–µ—Ä–∏—Ä–∞–Ω–∞) –æ—Ç –Ω–∏–∫–æ–π. –¢—É–∫ –≤–µ—á–µ –Ω–∞–≤–ª–∏–∑–∞ **Garbage Collection**. 
–¢–æ–≤–∞ –µ –º–µ—Ö–∞–Ω–∏–∑—ä–º –∑–∞ –ø–æ—á–∏—Å—Ç–≤–∞–Ω–µ –Ω–∞ –ø–∞–º–µ—Ç—Ç–∞, –∫–æ–π—Ç–æ –µ –∑–∞–ª–æ–∂–µ–Ω –≤ –µ–∑–∏–∫–∞ Java. –¢–æ–π –æ–ø–µ—Ä–∏—Ä–∞ –≤/—É Heap-–∞.

![garbage_collection](http://www.fortwright.com/Portals/fortwright/Images/News/Trash.jpg)

> ‚ÑπÔ∏è –ó–∞ –ø–æ–≤–µ—á–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–æ—á–µ—Ç–µ—Ç–µ [Java Garbage Collection Basics](https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/index.html)
–∏ [Getting Started with the G1 Garbage Collector](https://www.oracle.com/technetwork/tutorials/tutorials-1876574.html).

[garbage-collection-vid]: https://www.youtube.com/watch?v=UnaNQgzw4zY

### Exercises

#### Task 1
–°—ä–∑–¥–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–∞, –∫–æ—è—Ç–æ —Å–∏–º—É–ª–∏—Ä–∞ –º–∞–≥–∞–∑–∏–Ω. üõí

–ï–¥–∏–Ω –º–∞–≥–∞–∑–∏–Ω –º–æ–∂–µ –¥–∞ –∑–∞—Ä–µ–∂–¥–∞ —Å—Ç–æ–∫–∞ –∏ –¥–∞ –ø—Ä–æ–¥–∞–≤–∞ –Ω–∞–ª–∏—á–Ω–∞ —Å—Ç–æ–∫–∞.

–ó–∞–¥–∞—á–∞—Ç–∞ –µ —Å—ä—Å—Ç–∞–≤–µ–Ω–∞ –æ—Ç –Ω—è–∫–æ–ª–∫–æ –ø–æ–¥—Ç–æ—á–∫–∏.
–í—Å—è–∫–∞ —Å–ª–µ–¥–≤–∞—â–∞ –ø–æ–¥—Ç–æ—á–∫–∞ –æ—Ç –ø—Ä–æ–≥—Ä–∞–º–∞—Ç–∞ –∑–∞–≤–∏—Å–∏ –æ—Ç –ø—Ä–µ–¥—Ö–æ–¥–Ω–∞—Ç–∞.

–ü—Ä–æ–≥—Ä–∞–º–∞—Ç–∞ —Ç—Ä—è–±–≤–∞ –¥–∞ –±—ä–¥–µ —Ä–µ—à–∞–≤–∞–Ω–∞ –ø–æ–µ—Ç–∞–ø–Ω–æ (—Ç–æ—á–∫–∞ –ø–æ —Ç–æ—á–∫–∞).
–í—Å—è–∫–∞ —Å–ª–µ–¥–≤–∞—â–∞ –ø–æ–¥—Ç–æ—á–∫–∞ –≤–Ω–∞—Å—è –ø—Ä–æ–º—è–Ω–∞ –≤ –ø—Ä–µ–¥–∏—à–Ω–∞—Ç–∞.
–¶–µ–ª—Ç–∞ –Ω–∞ –∑–∞–¥–∞—á–∞—Ç–∞ –µ –¥–∞ —Å–µ —É–ø—Ä–∞–∂–Ω—è—Ç –Ω–∞—Ç—Ä—É–ø–∞–Ω–∏—Ç–µ –∑–Ω–∞–Ω–∏—è –∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—Ç–∞ –¥–∞ —Å–µ 
–º–æ–¥–µ–ª–∏—Ä–∞—Ç —Ä–µ—à–µ–Ω–∏—è, –∫–æ–∏—Ç–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Ç—ä—Ä–ø—è—Ç –ø—Ä–æ–º—è–Ω–∞.

##### 1.1

- –ï–¥–∏–Ω –º–∞–≥–∞–∑–∏–Ω (Shop) –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –∑–∞—Ä–µ–∂–¥–∞–Ω–∞ (add) —Å—ä—Å —Å—Ç–æ–∫–∞.
    - –ö–æ–≥–∞—Ç–æ —Å–µ –∑–∞—Ä–µ–∂–¥–∞ —Å—Ç–æ–∫–∞—Ç–∞ —Å–µ –∫–∞–∑–≤–∞ –∏–º–µ—Ç–æ –Ω–∞ —Å—Ç–æ–∫–∞—Ç–∞ (productName) –∏ —Ü–µ–Ω–∞—Ç–∞ (price).

- –û—Ç –º–∞–≥–∞–∑–∏–Ω–∞ –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –∫—É–ø—É–≤–∞–Ω–∞ (buy) —Å—Ç–æ–∫–∞, –∫–∞—Ç–æ –ø—Ä–∏ –∑–∞–∫—É–ø—É–≤–∞–Ω–µ—Ç–æ —Å–µ –∏–∑–¥–∞–≤–∞ –∫–∞—Å–æ–≤–∞ –±–µ–ª–µ–∂–∫–∞ (purchase recipe). 
    - –ö—É–ø—É–≤–∞–Ω–µ—Ç–æ —Å—Ç–∞–≤–∞ —á—Ä–µ–∑ —É–ø–æ–º–µ–Ω–∞–≤–∞–Ω–µ –∏–º–µ—Ç–æ –Ω–∞ —Å—Ç–æ–∫–∞—Ç–∞ –∏ —Å—É–º–∞ –ø–∞—Ä–∏.
    - –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ –∑–∞–∫—É–ø—É–≤–∞–Ω–µ, –º–∞–≥–∞–∑–∏–Ω—ä—Ç –∏–∑–¥–∞–≤–∞ –∫–∞—Å–æ–≤–∞ –±–µ–ª–µ–∂–∫–∞ —Å—ä—Å—Ç–æ—è—â–∞ —Å–µ –æ—Ç:
        - –∏–º–µ—Ç–æ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞, –∫–æ–π—Ç–æ –µ –∑–∞–∫—É–ø–µ–Ω
        - —Ü–µ–Ω–∞—Ç–∞ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞
        - —Ä–µ—Å—Ç–æ (—Ä–∞–∑–ª–∏–∫–∞—Ç–∞ –º/—É –ø–ª–∞—Ç–µ–Ω–∏—Ç–µ –ø–∞—Ä–∏ –∏ —Ü–µ–Ω–∞—Ç–∞ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞)
    - –ï–¥–∏–Ω –ø—Ä–æ–¥—É–∫—Ç –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –∑–∞–∫—É–ø–µ–Ω —Å–∞–º–æ –∞–∫–æ:
        - –≤–µ—á–µ –µ –∑–∞—Ä–µ–¥–µ–Ω —Ç–∞–∫—ä–≤ –ø—Ä–æ–¥—É–∫—Ç
        - —Å—É–º–∞—Ç–∞ –ø–∞—Ä–∏ –µ –¥–æ—Å—Ç–∞—Ç—ä—á–Ω–∞ –¥–∞ –ø–æ–∫—Ä–∏–µ —Ü–µ–Ω–∞—Ç–∞
    - –ê–∫–æ –ø—Ä–æ–¥—É–∫—Ç–∞ –Ω–µ –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –∑–∞–∫—É–ø–µ–Ω –Ω–µ —Å–µ –∏–∑–¥–∞–≤–∞ –∫–∞—Å–æ–≤–∞ –±–µ–ª–µ–∂–∫–∞.
    - –ü—Ä–∏ –ø—Ä–æ–¥–∞–≤–∞–Ω–µ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç, —Ç–æ–π —Å–µ –∏–∑—á–µ—Ä–ø–≤–∞ –æ—Ç –º–∞–≥–∞–∑–∏–Ω–∞.

##### 1.2

- –ü—Ä–∏ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ –Ω–∞ —Å—Ç–æ–∫–∞ —Å–µ —É–ø–æ–º–µ–Ω–∞–≤–∞ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ (quantity), –∫–æ–µ—Ç–æ –µ –≤–∏–Ω–∞–≥–∏ –ø–æ–ª–æ–∂–∏—Ç–µ–ª–Ω–æ —á–∏—Å–ª–æ.
    - –ü—Ä–∏–º–µ—Ä: –ü—Ä–∏ –∑–∞—Ä–µ–¥–µ–Ω–∏ 2 –±–∞–Ω–∞–Ω–∞ –º–æ–≥–∞—Ç –¥–∞ –±—ä–¥–∞—Ç –ø—Ä–æ–¥–∞–¥–µ–Ω–∏ 2-–ø—ä—Ç–∏ –ø–æ 1 –±–∞–Ω–∞–Ω.
    
- –í—ä–∑–º–æ–∂–Ω–æ –µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª–Ω–æ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ –Ω–∞ –µ–¥–Ω–∞ –∏ —Å—ä—â–∞ —Å—Ç–æ–∫–∞ –≤ –º–∞–≥–∞–∑–∏–Ω–∞.
    - –ü—Ä–∏–º–µ—Ä: 2-–ø—ä—Ç–∏ —Å–µ –∑–∞—Ä–µ–∂–¥–∞—Ç –ø–æ 2 —è–±—ä–ª–∫–∏. –°–ª–µ–¥ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ—Ç–æ —â–µ –º–æ–∂–µ 4 –ø—ä—Ç–∏ –¥–∞ —Å–µ –ø—Ä–æ–¥–∞–¥—ä—Ç —è–±—ä–ª–∫–∏.
    - –ê–∫–æ –∏–º–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ—Ç–æ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ –æ—Ç –≤–µ—á–µ –∑–∞—Ä–µ–¥–µ–Ω –ø—Ä–æ–¥—É–∫—Ç —Å –¥—Ä—É–≥–∞ —Ü–µ–Ω–∞,
    —Ç–æ —Ç–æ–≥–∞–≤–∞ –Ω–æ–≤–∞—Ç–∞ —Å—Ç–æ–∫–∞ —Å–µ —Ä–∞–∑–≥–ª–µ–∂–¥–∞, –∫–∞—Ç–æ –Ω–æ–≤ –∞—Ä—Ç–∏–∫—É–ª.
        - –ü—Ä–∏–º–µ—Ä: –∑–∞—Ä–µ–¥–µ–Ω  –µ 1 –±–∞–Ω–∞–Ω –Ω–∞ —Ü–µ–Ω–∞ –æ—Ç 3 –ª–µ–≤–∞, —Å–ª–µ–¥ –∫–æ–µ—Ç–æ –æ—Ç–Ω–æ–≤–æ —Å–µ –∑–∞—Ä–µ–∂–¥–∞ 1 –±–∞–Ω–∞–Ω –Ω–∞ 5 —Ü–µ–Ω–∞ –æ—Ç –ª–µ–≤–∞,
        —Ç–æ —Ç–æ–≥–∞–≤–∞ –∏–º–∞–º–µ 1 –±–∞–Ω–∞–Ω –æ—Ç 3 –ª–µ–≤–∞ –∏ 1 –±–∞–Ω–∞–Ω –æ—Ç 5 –ª–µ–≤–∞.
        - –í —Ç–æ–∑–∏ —Å–ª—É—á–∞–π –Ω—è–º–∞ –∑–Ω–∞—á–µ–Ω–∏–µ, –æ—Ç –∫–æ—è —Å—Ç–æ–∫–∞ —â–µ –±—ä–¥–µ –ø—Ä–æ–¥–∞–¥–µ–Ω–æ

##### 1.3

- –ü—Ä–∏ –∑–∞–∫—É–ø—É–≤–∞–Ω–µ –Ω–∞ —Å—Ç–æ–∫–∞ –µ –≤—ä–∑–º–æ–∂–Ω–æ –¥–∞ —Å–µ —É–ø–æ–º–µ–Ω–µ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ –ø—Ä–æ–¥—É–∫—Ç–∏, –∫–æ–µ—Ç–æ –¥–∞ –±—ä–¥–µ –∑–∞–∫—É–ø–µ–Ω–æ.
    - –ü—Ä–∏ –∑–∞–∫—É–ø—É–≤–∞–Ω–µ –Ω–∞ 2 –±–∞–Ω–∞–Ω–∞ –æ—Ç 3 –ª–µ–≤–∞, —â–µ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ –∑–∞–ø–ª–∞—Ç—è—Ç 6 –ª–µ–≤–∞ –∑–∞ –¥–∞ –±—ä–¥–∞—Ç –ø—Ä–æ–¥–∞–¥–µ–Ω–∏.
    - –°–ª–µ–¥ –∑–∞–∫—É–ø—É–≤–∞–Ω–µ—Ç–æ –Ω–∞ 2 –±–∞–Ω–∞–Ω–∞ –æ—Ç 2 –Ω–∞–ª–∏—á–Ω–∏, –±–∞–Ω–∞–Ω–∏—Ç–µ —â–µ –±—ä–¥–∞—Ç –∏–∑—á–µ—Ä–ø–∞–Ω–∏
    - –í –∫–∞—Å–æ–≤–∞—Ç–∞ –±–µ–ª–µ–∂–∫–∞ –µ –∏–∑–ø–∏—Å–∞–Ω–æ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ –∑–∞–∫—É–ø–µ–Ω–∏ –ø—Ä–æ–¥—É–∫—Ç–∏.

##### 1.4

- –ú–∞–≥–∞–∑–∏–Ω—ä—Ç –º–æ–∂–µ –¥–∞ –∑–∞—Ä–µ–∂–¥–∞ —Å—Ç–æ–∫–∞ –Ω–∞ –ø—Ä–æ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–∏ —Ü–µ–Ω–∏, 2 –∑–∞ 1.
    - –ü—Ä–∏–º–µ—Ä –∑–∞—Ä–µ–¥–µ–Ω–∏ —Å–∞ —à–æ–∫–æ–ª–∞–¥–∏ 2 –Ω–∞ —Ü–µ–Ω–∞—Ç–∞ –Ω–∞ 1. –ê–∫–æ –µ–¥–∏–Ω —à–æ–∫–æ–ª–∞–¥ —Å—Ç—Ä—É–≤–∞ 5 –ª–µ–≤–∞, —Ç–æ —â–µ –º–æ–∂–µ –¥–∞ –±—ä–¥–∞—Ç –∑–∞–∫—É–ø–µ–Ω–∏ 2 —Ç–∞–∫–∏–≤–∞.
    - –¢–æ–∑–∏ —Ç–∏–ø –∞—Ä—Ç–∏–∫—É–ª –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –∑–∞–∫—É–ø–µ–Ω, —Å–∞–º–æ –∞–∫–æ –±—Ä–æ–π–∫–∞—Ç–∞ –Ω–∞ –∑–∞–∫—É–ø—É–≤–∞–Ω–µ –µ 2, 4, 6 –∏ —Ç–Ω—Ç...
        - –ê–∫–æ —Å–∞ –∑–∞—Ä–µ–¥–µ–Ω–∏ 4 —à–æ–∫–æ–ª–∞–¥–∞ —Å —Ç–∞–∑–∏ –ø—Ä–æ–º–æ—Ü–∏—è, –Ω–µ –º–æ–≥–∞—Ç –¥–∞ –±—ä–¥–∞—Ç –∑–∞–∫—É–ø–µ–Ω–∏ 5 –∏–ª–∏ 6 —Ç–∞–∫–∏–≤–∞ —à–æ–∫–æ–ª–∞–¥–∞.

##### 1.5

- –ú–∞–≥–∞–∑–∏–Ω—ä—Ç –º–æ–∂–µ –¥–∞ –∑–∞—Ä–µ–∂–¥–∞ —Å—Ç–æ–∫–∞ –Ω–∞ –ø—Ä–æ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–∏ —Ü–µ–Ω–∏, 3 –∑–∞ 2.
    - –ü—Ä–∏–º–µ—Ä –∑–∞—Ä–µ–¥–µ–Ω–∏ —Å–∞ –±–∏—Å–∫–≤–∏—Ç–∏ 3 –Ω–∞ —Ü–µ–Ω–∞—Ç–∞ –Ω–∞ 2. –ê–∫–æ –µ–¥–Ω–∞ –∫—É—Ç–∏—è –±–∏—Å–∫–≤–∏—Ç–∏ —Å—Ç—Ä—É–≤–∞ 5 –ª–µ–≤–∞, —Ç–æ —â–µ –º–æ–∂–µ –¥–∞ –±—ä–¥–∞—Ç –∑–∞–∫—É–ø–µ–Ω–∏ 3 –∫—É—Ç–∏–∏ –∑–∞ 10 –ª–µ–≤–∞.
    - –¢–æ–∑–∏ —Ç–∏–ø –∞—Ä—Ç–∏–∫—É–ª –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –∑–∞–∫—É–ø–µ–Ω, —Å–∞–º–æ –∞–∫–æ –±—Ä–æ–π–∫–∞—Ç–∞ –Ω–∞ –∑–∞–∫—É–ø—É–≤–∞–Ω–µ –µ 3, 6, 9 –∏ —Ç–Ω—Ç...
        - –ê–∫–æ —Å–∞ –∑–∞—Ä–µ–¥–µ–Ω–∏ 3 –∫—É—Ç–∏–∏ –±–∏—Å–∫–≤–∏—Ç–∏ —Å —Ç–∞–∑–∏ –ø—Ä–æ–º–æ—Ü–∏—è, –Ω–µ –º–æ–≥–∞—Ç –¥–∞ –±—ä–¥–∞—Ç –∑–∞–∫—É–ø–µ–Ω–∏ 2 –∏–ª–∏ 5 –∫—É—Ç–∏–∏.


<br/><details><summary><b>Solution</b> üëÄ</summary> 
<p>

- ShopDemo.java
```java
public class ShopDemo {

    public static void main(String[] args) {

        Shop shop = new Shop();

        shop.add("banana", 20, 2); // –∑–∞—Ä–µ–∂–¥–∞–º–µ 2 –±–∞–Ω–∞–Ω–∞, –∫–∞—Ç–æ —Ü–µ–Ω–∞—Ç–∞ –∑–∞ 1 –µ 20 –ø–∞—Ä–∏
        shop.add("chocolate", new TwoForOnePrice(10), 2); // –∑–∞—Ä–µ–∂–¥–∞–º–µ 2 —à–æ–∫–æ–ª–∞–¥ –Ω–∞ –ø—Ä–æ–º–æ—Ü–∏—è, –∫—ä–¥–µ—Ç–æ —Ü–µ–Ω–∞—Ç–∞ –∏ –∑–∞ 2-—Ç–∞ –µ 10 –ø–∞—Ä–∏
        
        PurchaseReceipt bananaRecipe = shop.buy("banana", 20); // –∫—É–ø—É–≤–∞–º–µ 1 –±–∞–Ω–∞–Ω –∫–∞—Ç–æ –¥–∞–≤–∞–º–µ 20 –ø–∞—Ä–∏
        PurchaseReceipt chocolateRecipe = shop.buy("chocolate", 10, 2); // –∫—É–ø—É–≤–∞–º–µ 2 —à–æ–∫–æ–ª–∞–¥–∞ –∑–∞ 10 –ø–∞—Ä–∏

        System.out.println(bananaRecipe);
        System.out.println(chocolateRecipe);
    }
}
```

- Price.java

```java
package lecture10.homework.shop;

/**
 * –¢–æ–∑–∏ –∫–ª–∞—Å –º–æ–¥–µ–ª–∏—Ä–∞ —Ü–µ–Ω–∞ –Ω–∞ –¥–∞–¥–µ–Ω –ø—Ä–æ–¥—É–∫—Ç. –¢–æ–π –µ –∏–∑–ø–æ–ª–∑–≤–∞–Ω –∫–∞—Ç–æ super –∫–ª–∞—Å –Ω–∞ –ø—Ä–æ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–∏—Ç–µ —Ü–µ–Ω–∏.
 * –û—Å–Ω–æ–≤–Ω–æ—Ç–æ –Ω–µ—â–æ, –∫–æ–µ—Ç–æ –∏–º–∞ –≤ —Ç–æ–∑–∏ –∫–ª–∞—Å –µ —Å—É–º–∞—Ç–∞ –ø–∞—Ä–∏ –∫–æ—è—Ç–æ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ –∑–∞–ø–ª–∞—Ç–∏.
 */
public class Price {

    public final double price;

    public Price(double price) {
        this.price = price;
    }

    /**
     * –¢–æ–∑–∏ –º–µ—Ç–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ —Å—É–º–∞—Ç–∞, –∫–æ—è—Ç–æ –µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–µ–Ω–∞ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ –µ –¥–æ—Å—Ç–∞—Ç—ä—á–Ω–∞ –∑–∞ –¥–∞ —Å–µ –∑–∞–∫—É–ø–∏ –∂–µ–ª–∞–Ω–æ—Ç–æ
     * –æ—Ç –Ω–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ.
     *
     * @param amount   —Å—É–º–∞—Ç–∞ –ø–∞—Ä–∏ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞.
     * @param quantity –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ –∫–æ–µ—Ç–æ –∫–ª–∏–µ–Ω—Ç–∞ –∏—Å–∫–∞ –¥–∞ –∑–∞–∫—É–ø–∏.
     * @return true –∞–∫–æ —Å—É–º–∞—Ç–∞ –µ –¥–æ—Å—Ç–∞—Ç—ä—á–Ω–∞, false –≤ –ø—Ä–æ—Ç–∏–≤–µ–Ω —Å–ª—É—á–∞–π.
     */
    public boolean canBePaid(int amount, int quantity) {

        return calculateForQuantity(quantity) <= amount;
    }

    /**
     * –¢–æ–∑–∏ –º–µ—Ç–æ–¥ –∏–∑—á–∏—Å–ª—è–≤–∞ –∫–∞–∫–≤–∞ —Å—É–º–∞ –ø–∞—Ä–∏ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ –ø–ª–∞—Ç–∏ –∑–∞ –¥–∞ –±—ä–¥–µ –∑–∞–∫—É–ø–µ–Ω —Ç–æ–∑–∏ –ø—Ä–æ–¥—É–∫—Ç.
     *
     * @param quantity –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ, –∫–æ–µ—Ç–æ —Å–µ –∑–∞–∫—É–ø—É–≤–∞.
     * @return —Å—É–º–∞—Ç–∞ –ø–∞—Ä–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –∑–∞ –∑–∞–∫—É–ø—É–≤–∞–Ω–µ—Ç–æ.
     */
    public double calculateForQuantity(int quantity) {
        return price * quantity;
    }

    @Override
    public String toString() {
        return String.format("(%.2f)", price);
    }

    /**
     * –¢–æ–∑–∏ –º–µ—Ç–æ–¥ –µ –ø—Ä–µ–∑–∞–ø–∏—Å–∞–Ω, –∑–∞ –¥–∞ –º–æ–∂–µ –¥–∞ —Å–µ —Å—Ä–∞–≤–Ω—è–≤–∞—Ç —Ä–∞–∑–ª–∏—á–Ω–∏—Ç–µ —Ü–µ–Ω–∏.
     *
     * @param other –¥—Ä—É–≥–∞—Ç–∞ —Ü–µ–Ω–∞ —Å –∫–æ—è—Ç–æ –¥–∞ —Å–µ —Å—Ä–∞–≤–Ω–∏.
     * @return true –∞–∫–æ —Ü–µ–Ω–∏—Ç–µ —Å–∞ –µ–¥–Ω–∞–∫–≤–∏, false –≤ –ø—Ä–æ—Ç–∏–≤–µ–Ω —Å–ª—É—á–∞–π.
     */
    @Override
    public boolean equals(Object other) {
        if (this == other) return true;
        if (other == null || getClass() != other.getClass()) return false;

        Price price1 = (Price) other;

        return Double.compare(price1.price, price) == 0;
    }
}
```

- TwoForOnePrice.java

```java
/**
 * –¢–æ–∑–∏ –∫–ª–∞—Å –º–æ–¥–µ–ª–∏—Ä–∞ —Ü–µ–Ω–∞ –æ—Ç —Ç–∏–ø 2 –∑–∞ 1, –∫–∞—Ç–æ —Ç–æ–π –Ω–∞—Å–ª–µ–¥—è–≤–∞ –±–∞–∑–æ–≤–∏—è –∫–ª–∞—Å {@link Price}.
 */
public class TwoForOnePrice extends Price {

    public TwoForOnePrice(double price) {
        super(price); // –∏–∑–≤–∏–∫–≤–∞–º–µ super –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ –Ω–∞ Price, –∑–∞ –¥–∞ –ø–æ–¥–∞–¥–µ–º —Ü–µ–Ω–∞—Ç–∞
    }

    /**
     * –¢–æ–∑–∏ –º–µ—Ç–æ–¥ –ø—Ä–µ–∑–∞–ø–∏—Å–≤–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç—Ç–∞ –æ—Ç Price, —Ç—ä–π –∫–∞—Ç–æ –ª–æ–≥–∏–∫–∞—Ç–∞ –∑–∞ –ø—Ä–æ–¥–∞–∂–±–∞
     * –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç –≤ –ø—Ä–æ–º–æ—Ü–∏—è –µ –ø–æ —Ä–∞–∑–ª–∏—á–Ω–∞.
     *
     * @param amount   —Å—É–º–∞—Ç–∞ –ø–∞—Ä–∏ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞.
     * @param quantity –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ –∫–æ–µ—Ç–æ –∫–ª–∏–µ–Ω—Ç–∞ –∏—Å–∫–∞ –¥–∞ –∑–∞–∫—É–ø–∏.
     * @return true –∞–∫–æ —Å—É–º–∞—Ç–∞ –µ –¥–æ—Å—Ç–∞—Ç—ä—á–Ω–∞, false –≤ –ø—Ä–æ—Ç–∏–≤–µ–Ω —Å–ª—É—á–∞–π.
     */
    @Override
    public boolean canBePaid(int amount, int quantity) {

        if (quantity < 2 || quantity % 2 != 0) {
            return false;
        }

        return calculateForQuantity(quantity) <= amount;
    }

    /**
     * –¢–æ–∑–∏ –º–µ—Ç–æ–¥ –ø—Ä–µ–∑–∞–ø–∏—Å–≤–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–Ω–æ—Å—Ç—Ç–∞ –æ—Ç Price, —Ç—ä–π –∫–∞—Ç–æ –ª–æ–≥–∏–∫–∞—Ç–∞ –∑–∞ –∏–∑—á–∏—Å–ª—è–≤–∞–Ω–µ
     * –Ω–∞ —Ç–æ–≤–∞ –∫–∞–∫–≤–∞ —Å—É–º–∞ –ø–∞—Ä–∏ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–µ –ø–ª–∞—Ç–∏ –∑–∞ –¥–∞ –±—ä–¥–µ –∑–∞–∫—É–ø–µ–Ω —Ç–æ–∑–∏ –ø—Ä–æ–¥—É–∫—Ç –µ –ø–æ —Ä–∞–∑–ª–∏–Ω–∞.
     *
     * @param quantity –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ, –∫–æ–µ—Ç–æ —Å–µ –∑–∞–∫—É–ø—É–≤–∞.
     * @return —Å—É–º–∞—Ç–∞ –ø–∞—Ä–∏, –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞ –∑–∞ –∑–∞–∫—É–ø—É–≤–∞–Ω–µ—Ç–æ.
     */
    @Override
    public double calculateForQuantity(int quantity) {
        int taxQuantity = quantity / 2;

        return price * taxQuantity;
    }

    @Override
    public String toString() {

        return String.format("(2 –∑–∞ 1 –ø—Ä–∏ —Ü–µ–Ω–∞ %.2f)", price);
    }
}
```

- PurchaseReceipt.java

```java
/**
 * –¢–æ–∑–∏ –∫–ª–∞—Å –º–æ–¥–µ–ª–∏—Ä–∞ –∫–∞—Å–æ–≤–∞ –±–µ–ª–µ–∂–∫–∞. –¢–æ–π —Å—ä–¥—ä—Ä–∂–∞ –∏–º–µ—Ç–æ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞, –∫–æ–π—Ç–æ –µ –∑–∞–∫—É–ø–µ–Ω,
 * —Ü–µ–Ω–∞—Ç–∞ –Ω–∞ –∫–æ—è—Ç–æ –µ –∑–∞–∫—É–ø–µ–Ω, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ –∫–æ–µ—Ç–æ –µ –∑–∞–∫—É–ø–µ–Ω–æ, –∏ —Å—É–º–∞—Ç–∞ –ø–∞—Ä–∏ –ø–ª–∞—Ç–µ–Ω–∞ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞.
 */
public class PurchaseReceipt {

    private final String productName;
    private final Price price;
    private int boughtQuantity;
    private final double paidAmount;

    /**
     * –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –Ω–∞ –∫–∞—Å–æ–≤–∞ –±–µ–ª–µ–∂–∫–∞.
     *
     * @param productName    –∏–º–µ—Ç–æ –Ω–∞ –∑–∞–∫—É–ø–µ–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç.
     * @param price          —Ü–µ–Ω–∞—Ç–∞ –Ω–∞ –∫–æ—è—Ç–æ –µ –∑–∞–∫—É–ø–µ–Ω –ø—Ä–æ–¥—É–∫—Ç–∞.
     * @param boughtQuantity –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ –∫–æ–µ—Ç–æ –µ –∑–∞–∫—É–ø–µ–Ω–æ.
     * @param paidAmount     –ø–ª–∞—Ç–µ–Ω–∞—Ç–∞ —Å—É–º–∞ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞.
     */
    PurchaseReceipt(String productName, Price price, int boughtQuantity, double paidAmount) {
        this.productName = productName;
        this.price = price;
        this.boughtQuantity = boughtQuantity;
        this.paidAmount = paidAmount;
    }

    @Override
    public String toString() {
        return "PurchaseReceipt{" +
                "productName='" + productName + '\'' +
                ", boughtQuantity=" + boughtQuantity +
                ", price=" + price +
                ", paidAmount=" + paidAmount +
                ", change=" + getChange() +
                '}';
    }

    /**
     * –í—ä—Ç—Ä–µ—à–µ–Ω –º–µ—Ç–æ–¥, –∫–æ–π—Ç–æ –∏–∑—á–∏—Å–ª—è–≤–∞ —Ä–µ—Å—Ç–æ—Ç–æ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞.
     *
     * @return —Å—É–º–∞—Ç–∞ –ø–∞—Ä–∏, –∫–æ—è—Ç–æ –µ –≤—ä—Ä–Ω–∞—Ç–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞.
     */
    private double getChange() {
        return paidAmount - price.calculateForQuantity(boughtQuantity);
    }
}

```

- ProductStorage.java

```java
/**
 * –¢–æ–∑–∏ –∫–ª–∞—Å —Ä–µ–ø—Ä–µ–∑–µ–Ω—Ç–∏—Ä–∞ –∑–∞—Ä–µ–¥–µ–Ω –ø—Ä–æ–¥—É–∫—Ç (–∏–Ω–≤–µ–Ω—Ç–∞—Ä) –≤ –º–∞–≥–∞–∑–∏–Ω–∞. –ö–∞—Ç–æ —Å–µ –ø–∞–∑–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∑–∞ —Ç–æ–≤–∞,
 * –∫–∞–∫–≤–æ –µ –∏–º–µ—Ç–æ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞, –Ω–∞ –∫–∞–∫–≤–∞ —Ü–µ–Ω–∞ —Å–µ –ø—Ä–æ–¥–∞–≤–∞ –∏ –∫–∞–∫–≤–æ –µ –Ω–∞–ª–∏—á–Ω–æ—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç —Ç–æ–∑–∏ –ø—Ä–æ–¥—É–∫—Ç.
 */
class ProductStorage {

    private final String name;
    private final Price price;
    private int quantity;

    /**
     * –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —á—Ä–µ–∑, –∫–æ–π—Ç–æ –º–æ–∂–µ–º –¥–∞ —Å—ä–∑–¥–∞–¥–µ–º –∏–Ω–≤–µ–Ω—Ç–∞—Ä –æ–ø–∏—Å–≤–∞—à —Ü–µ–Ω–∞ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞ –µ–¥–∏–Ω –ø—Ä–æ–¥—É–∫—Ç.
     *
     * @param name     –∏–º–µ—Ç–æ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞, –∫–æ–π—Ç–æ –±–∏–≤–∞ –∑–∞—Ä–µ–¥–µ–Ω –≤ –º–∞–≥–∞–∑–∏–Ω–∞.
     * @param price    —Ü–µ–Ω–∞—Ç–∞ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞, –∫–æ—è—Ç–æ —â–µ –±—ä–¥–µ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–∞ –ø—Ä–∏ –ø—Ä–æ–¥–∞–∂–±–∞.
     * @param quantity –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ –æ—Ç –ø—Ä–æ–¥—É–∫—Ç–∞, –∫–æ–µ—Ç–æ –µ –∑–∞—Ä–µ–¥–µ–Ω–æ –≤ –º–∞–≥–∞–∑–∏–Ω–∞.
     */
    ProductStorage(String name, Price price, int quantity) {
        this.name = name;
        this.price = price;
        this.quantity = quantity;
    }

    /**
     * –¢–æ–∑–∏ –º–µ—Ç–æ–¥ —Å–µ –æ–ø–∏—Ç–≤–∞ –¥–∞ –∏–∑–¥–∞–¥–µ –∫–∞—Å–æ–≤–∞ –±–µ–ª–µ–∂–∫–∞, –∞–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏—Ç–µ, –∫–æ–∏—Ç–æ —Å–∞ –ø–æ–¥–∞–¥–µ–Ω–∏ —Å–∞ —Ç–∞–∫–∏–≤–∞, —á–µ –¥–∞
     * —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è–≤–∞—Ç –ø—Ä–æ–¥–∞–∂–±–∞—Ç–∞ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞.
     *
     * @param productQuery –∏–º–µ—Ç–æ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞, –∫–æ–π—Ç–æ –∫–ª–∏–µ–Ω—Ç–∞ –∏—Å–∫–∞ –¥–∞ –∑–∞–∫—É–ø–∏.
     * @param amount       —Å—É–º–∞—Ç–∞ –∫–æ—è—Ç–æ –∫–ª–∏–µ–Ω—Ç–∞ –∏–º–∞ –Ω–∞–ª–∏—á–Ω–∞.
     * @param quantity     –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ, –∫–æ–µ—Ç–æ –∫–ª–∏–µ–Ω—Ç–∞ –∏—Å–∫–∞ –¥–∞ –∑–∞–∫—É–ø–∏.
     * @return –ø—Ä–∏ –ø–æ–∫—Ä–∏–≤–∞–Ω–µ –Ω–∞ –∫—Ä–∏—Ç–µ—Ä–∏—è –∑–∞ –ø—Ä–æ–¥–∞–∂–±–∞ —Å–µ –≤—Ä—ä—â–∞ {@link PurchaseReceipt} —Å –¥–µ—Ç–∞–π–ª–∏—Ç–µ –∑–∞ –ø—Ä–æ–¥–∞–∂–±–∞—Ç–∞,
     * –≤ –ø—Ä–æ—Ç–∏–≤–µ–Ω —Å–ª—É—á–∞–π —Å–µ –≤—Ä—ä—â–∞ null.
     */
    PurchaseReceipt tryToSell(String productQuery, int amount, int quantity) {

        if (canBeBought(productQuery, amount, quantity)) {

            reduceQuantity(quantity);

            return new PurchaseReceipt(productQuery, price, quantity, amount);
        }

        return null;
    }

    /**
     * –¢–æ–∑–∏ –º–µ—Ç–æ–¥ —Å–µ –æ–ø–∏—Ç–≤–∞ –¥–∞ —É–≤–µ–ª–∏—á–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ –æ—Ç –¥–∞–¥–µ–Ω –ø—Ä–æ–¥—É–∫—Ç.
     * –¢–æ–π —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞, –∫–æ–≥–∞—Ç–æ –º–∞–≥–∞–∑–∏–Ω–∞ –∏—Å–∫–∞ –¥–∞ –∑–∞—Ä–µ–¥–∏ –Ω–∞–Ω–æ–≤–æ –ø—Ä–æ–¥—É–∫—Ç, –∫–æ–π—Ç–æ –≤—Å–µ –æ—â–µ –Ω–µ –µ –∏–∑—á–µ—Ä–ø–∞–Ω.
     *
     * @param name     –∏–º–µ—Ç–æ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞.
     * @param price    —Ü–µ–Ω–∞—Ç–∞ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞.
     * @param quantity –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ –∫–æ–µ—Ç–æ —Å–µ –∑–∞—Ä–µ–∂–¥–∞ –≤ –º–∞–≥–∞–∑–∏–Ω–∞.
     * @return true –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ, false –≤ –ø—Ä–æ—Ç–∏–≤–µ–Ω —Å–ª—É—á–∞–π.
     */
    boolean tryToIncreaseQuantity(String name, Price price, int quantity) {

        if (isForProduct(name, price)) {
            increaseQuantity(quantity);
            return true;
        }

        return false;
    }

    /**
     * –¢–æ–∑–∏ –º–µ—Ç–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ –µ –∏–∑—á–µ—Ä–ø–∞–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ –æ—Ç —Ç–æ–∑–∏ –ø—Ä–æ–¥—É–∫—Ç.
     *
     * @return true –∫–æ–≥–∞—Ç–æ –µ –∏–∑—á–µ—Ä–ø–∞–Ω–æ, false –≤ –ø—Ä–æ—Ç–∏–≤–µ–Ω —Å–ª—É—á–∞–π.
     */
    boolean isDepleted() {
        return this.quantity == 0;
    }

    /**
     * –í—ä—Ç—Ä–µ—à–µ–Ω –º–µ—Ç–æ–¥, –∫–æ–π—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ –∫–ª–∏–µ–Ω—Ç–∞ –∏—Å–∫–∞ –¥–∞ –∑–∞–∫—É–ø–∏ –ø—Ä–æ–¥—É–∫—Ç —Å —Ç–æ–≤–∞ –∏–º–µ, —Ü–µ–Ω–∞ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ.
     *
     * @param productQuery –∏–º–µ—Ç–æ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞, –∫–æ–π—Ç–æ –∫–ª–∏–µ–Ω—Ç–∞ —Ç—ä—Ä—Å–∏.
     * @param amount       —Å—É–º–∞—Ç–∞ –ø–∞—Ä–∏, –∫–æ—è—Ç–æ –∫–ª–∏–µ–Ω—Ç–∞ –∏–º–∞ –Ω–∞–ª–∏—á–Ω–∞.
     * @param quantity     –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ, –∫–æ–µ—Ç–æ –∏—Å–∫–∞ –¥–∞ –∑–∞–∫—É–ø–∏.
     * @return true –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ –∑–∞–∫—É–ø—É–≤–∞–Ω–µ, false –≤ –ø—Ä–æ—Ç–∏–≤–µ–Ω —Å–ª—É—á–∞–π.
     */
    private boolean canBeBought(String productQuery, int amount, int quantity) {

        return name.equals(productQuery)
                && this.price.canBePaid(amount, quantity);
    }

    /**
     * –í—ä—Ç—Ä–µ—à–µ–Ω –º–µ—Ç–æ–¥, –∫–æ–π—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–≤–∞ –¥–∞–ª–∏ –∏–º–µ—Ç–æ –∏ —Ü–µ–Ω–∞—Ç–∞ —Å–∞ –µ–¥–Ω–∞–∫–≤–∏ —Å —Ç–∞–∑–∏ –Ω–∞ –≤–µ—á–µ –∑–∞—Ä–µ–¥–µ–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç.
     *
     * @param name  –∏–º–µ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç, –∫–æ–π—Ç–æ —â–µ –±—ä–¥–µ –∑–∞—Ä–µ–∂–¥–∞–Ω.
     * @param price —Ü–µ–Ω–∞—Ç–∞ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞, –∫–æ—è—Ç–æ —â–µ –±—ä–¥–µ –∑–∞—Ä–µ–∂–¥–∞–Ω–∞.
     * @return true –ø—Ä–∏ –µ–¥–Ω–∞–∫–≤–æ –∏–º–µ –∏ —Ü–µ–Ω–∞, false –≤ –ø—Ä–æ—Ç–∏–≤–µ–Ω —Å–ª—É—á–∞–π.
     */
    private boolean isForProduct(String name, Price price) {
        return this.name.equals(name)
                && this.price.equals(price);
    }

    /**
     * –¢–æ–∑–∏ –º–µ—Ç–æ–¥ –Ω–∞–º–∞–ª—è–≤–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ –Ω–∞ –∑–∞—Ä–µ–¥–µ–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç.
     *
     * @param quantity –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ —Å –∫–æ–µ—Ç–æ –¥–∞ —Å–µ –Ω–∞–º–∞–ª–∏.
     */
    private void reduceQuantity(int quantity) {
        this.quantity -= quantity;
    }

    /**
     * –¢–æ–∑–∏ –º–µ—Ç–æ–¥ —É–≤–µ–ª–∏—á–∞–≤–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ –Ω–∞ –∑–∞—Ä–µ–¥–µ–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç.
     *
     * @param quantity –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ —Å –∫–æ–µ—Ç–æ –¥–∞ —Å–µ —É–≤–µ–ª–∏—á–∏.
     */
    private void increaseQuantity(int quantity) {
        this.quantity += quantity;
    }
}
```

- Shop.java

```java
/**
 * –¢–æ–∑–∏ –∫–ª–∞—Å –º–æ–¥–µ–ª–∏—Ä–∞ –º–∞–≥–∞–∑–∏–Ω. –ï–¥–∏–Ω –º–∞–≥–∞–∑–∏–Ω –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –∑–∞—Ä–µ–∂–¥–∞–Ω —Å –ø—Ä–æ–¥—É–∫—Ç–∏ –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω —Ü–µ–Ω–∞ –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
 * –∏ —Å—ä—â–æ —Ç–∞–∫–∞ –¥–∞ –ø—Ä–æ–¥–∞–≤–∞ –≤–µ—á–µ –∑–∞—Ä–µ–¥–µ–Ω–∏ –ø—Ä–æ–¥—É–∫—Ç–∏.
 */
public class Shop {

    /**
     * –í —Ç–æ–∑–∏ –º–∞—Å–∏–≤ –ø–∞–∑–∏–º –≤—Å–∏—á–∫–∏ –≤–µ—á–µ –∑–∞—Ä–µ–¥–µ–Ω–∏ –ø—Ä–æ–¥—É–∫—Ç–∏.
     */
    private final ProductStorage[] inventory = new ProductStorage[1000];

    /**
     * –° —Ç–æ–∑–∏ –º–µ—Ç–æ–¥ –º–æ–∂–µ–º –¥–∞ –∑–∞—Ä–µ–∂–¥–∞–º –ø—Ä–æ–¥—É–∫—Ç —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –∏–º–µ, —Ñ–∏–∫—Å–∏—Ä–∞–Ω–∞ —Ü–µ–Ω–∞ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
     *
     * @param name     –∏–º–µ—Ç–æ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞.
     * @param price    —Ü–µ–Ω–∞—Ç–∞ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞.
     * @param quantity –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞.
     * @return true –∞–∫–æ —É—Å–ø–µ—à–Ω–æ –µ –∑–∞—Ä–µ–¥–µ–Ω –ø—Ä–æ–¥—É–∫—Ç–∞, false –≤ –ø—Ä–æ—Ç–∏–≤–µ–Ω —Å–ª—É—á–∞–π.
     */
    public boolean add(String name, double price, int quantity) {

        return add(name, new Price(price), quantity);
    }

    /**
     * –° —Ç–æ–∑–∏ –º–µ—Ç–æ–¥, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –Ω–∞ –ø—ä—Ä–≤–∏—è –º–æ–∂–µ –¥–∞ —Å–µ –∑–∞—Ä–µ–∂–¥–∞ –¥–∞–¥–µ–Ω –ø—Ä–æ–¥—É–∫—Ç, —Å —Ç–∞–∑–∏ —Ä–∞–∑–ª–∏–∫–∞ —á–µ
     * –µ –≤—ä–∑–º–æ–∂–Ω–æ –¥–∞ –±—ä–¥–µ –∏–∑–ø–æ–ª–∑–≤–∞–Ω –∑–∞ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∏ –Ω–∞ –ø—Ä–æ–º–æ—Ü–∏–æ–Ω–∞–ª–Ω–∏ —Ü–µ–Ω–∏.
     *
     * @param name     –∏–º–µ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞.
     * @param price    —Ü–µ–Ω–∞ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞.
     * @param quantity –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞.
     * @return true –∞–∫–æ —É—Å–ø–µ—à–Ω–æ –µ –∑–∞—Ä–µ–¥–µ–Ω –ø—Ä–æ–¥—É–∫—Ç–∞, false –≤ –ø—Ä–æ—Ç–∏–≤–µ–Ω —Å–ª—É—á–∞–π.
     */
    public boolean add(String name, Price price, int quantity) {

        for (int i = 0; i < inventory.length; i++) {

            ProductStorage currentStorage = inventory[i];

            if (currentStorage == null) {
                ProductStorage item = new ProductStorage(name, price, quantity);
                inventory[i] = item;

                return true;
            } else if (currentStorage.tryToIncreaseQuantity(name, price, quantity)) {

                return true;
            }
        }

        return false;
    }

    /**
     * –° —Ç–æ–∑–∏ –º–µ—Ç–æ–¥ –º–æ–∂–µ –¥–∞ –±—ä–¥–µ –∑–∞–∫—É–ø—É–≤–∞–Ω/–ø—Ä–æ–¥–∞–≤–∞–Ω –¥–∞–¥–µ–Ω –ø—Ä–æ–¥—É–∫—Ç.
     *
     * @param productQuery –∏–º–µ—Ç–æ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞, –∫–æ–π—Ç–æ –∫–ª–∏–µ–Ω—Ç–∞ –∏—Å–∫–∞ –¥–∞ –∑–∞–∫—É–ø–∏.
     * @param amount       —Ü–µ–Ω–∞—Ç–∞ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞.
     * @param quantity     –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ –æ—Ç –ø—Ä–æ–¥—É–∫—Ç–∞.
     * @return –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ –∑–∞–∫—É–ø—É–≤–∞–Ω–µ —Å–µ –≤—Ä—ä—â–∞ {@link PurchaseReceipt} –≤ –ø—Ä–æ—Ç–∏–≤–µ–Ω —Å–ª—É—á–∞–π null.
     */
    public PurchaseReceipt buy(String productQuery, int amount, int quantity) {

        for (int i = 0; i < inventory.length; i++) {
            ProductStorage item = inventory[i];

            if (item == null) {
                continue;
            }

            PurchaseReceipt recipe = item.tryToSell(productQuery, amount, quantity);

            if (item.isDepleted()) {
                inventory[i] = null; // –∏–∑–±—è–≥–≤–∞–º–µ Memory Leak
            }

            if (recipe != null) {

                return recipe;
            }
        }

        return null;
    }

    /**
     * –¢–æ–∑–∏ –º–µ—Ç–æ–¥, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –Ω–∞ –ø—Ä–µ–¥—Ö–æ–¥–Ω–∏—è –º–æ–∂–µ –¥–∞ —Å–µ –∑–∞–∫—É–ø—É–≤–∞ –ø—Ä–æ–¥—É–∫—Ç —Å —Ç–∞–∑–∏ —Ä–∞–∑–ª–∏–∫–∞ —á–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ –≤–∏–Ω–∞–≥–∏ –µ 1.
     *
     * @param productQuery –∏–º–µ—Ç–æ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ç–∞, –∫–æ–π—Ç–æ –∫–ª–∏–µ–Ω—Ç–∞ –∏—Å–∫–∞ –¥–∞ –∑–∞–∫—É–ø–∏.
     * @param amount       —Å—É–º–∞—Ç–∞ –ø–∞—Ä–∏, –∫–æ—è—Ç–æ –∫–ª–∏–µ–Ω—Ç–∞ –∏–º–∞ –Ω–∞–ª–∏—á–Ω–∞.
     * @@return –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ –∑–∞–∫—É–ø—É–≤–∞–Ω–µ —Å–µ –≤—Ä—ä—â–∞ {@link PurchaseReceipt} –≤ –ø—Ä–æ—Ç–∏–≤–µ–Ω —Å–ª—É—á–∞–π null.
     */
    public PurchaseReceipt buy(String productQuery, int amount) {

        return buy(productQuery, amount, 1);
    }

}
```
</p>
</details>